<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ABS Crackers World</title>
    <meta name="theme-color" content="#0ea5e9" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #0b1220;
        --card: #0f172a;
        --muted: #94a3b8;
        --text: #e2e8f0;
        --accent: #0ea5e9;
        --ok: #22c55e;
        --bad: #ef4444;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        height: 100%;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial, "Noto Sans", sans-serif;
        background: linear-gradient(180deg, #0a0f1c, #0b1220 40%);
        color: var(--text);
      }
      a {
        color: inherit;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 12px;
      }
      header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid #1f2937;
      }
      .topbar {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: space-between;
        padding: 10px 12px;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .brand h1 {
        font-size: 18px;
        margin: 0;
        font-weight: 700;
        letter-spacing: 0.2px;
      }
      .badge {
        font-size: 11px;
        padding: 3px 8px;
        border: 1px solid #1f2937;
        border-radius: 999px;
        color: var(--muted);
      }
      .filters {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }
      @media (min-width: 720px) {
        .filters {
          grid-template-columns: 220px 1fr 1fr;
        }
      }
      select,
      input[type="search"] {
        width: 100%;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid #1f2937;
        background: #0b1220;
        color: var(--text);
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
      }
      @media (min-width: 720px) {
        .grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }
      @media (min-width: 1024px) {
        .grid {
          grid-template-columns: repeat(4, minmax(0, 1fr));
        }
      }
      .card {
        background: linear-gradient(180deg, #0f172a, #0b1220);
        border: 1px solid #1f2937;
        border-radius: 16px;
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        min-height: 160px;
      }
      .title {
        font-weight: 600;
        font-size: 14px;
        line-height: 1.2;
      }
      .muted {
        color: var(--muted);
        font-size: 12px;
      }
      .row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }
      .pill {
        font-size: 11px;
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px dashed #1f2937;
        color: #93c5fd;
      }
      .price {
        display: flex;
        align-items: baseline;
        gap: 8px;
      }
      .price .mrp {
        text-decoration: line-through;
        color: #64748b;
        font-size: 12px;
      }
      .price .sale {
        font-size: 16px;
        font-weight: 700;
        color: #e0f2fe;
      }
      .qty {
        display: flex;
        gap: 6px;
        align-items: center;
      }
      .qty button {
        width: 28px;
        height: 28px;
        border: 1px solid #1f2937;
        background: #0a0f1c;
        color: var(--text);
        border-radius: 8px;
      }
      .qty input {
        width: 40px;
        text-align: center;
        padding: 6px;
        border: 1px solid #1f2937;
        border-radius: 8px;
        background: #0a0f1c;
        color: var(--text);
      }
      .btn {
        appearance: none;
        border: 0;
        border-radius: 10px;
        padding: 10px 12px;
        font-weight: 600;
        cursor: pointer;
      }
      .btn-primary {
        background: linear-gradient(180deg, #0284c7, #0369a1);
        color: white;
        border: 1px solid #075985;
      }
      .btn-ghost {
        background: transparent;
        border: 1px dashed #1f2937;
        color: var(--text);
      }
      .layout {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }
      @media (min-width: 1024px) {
        .layout {
          grid-template-columns: 1fr 360px;
        }
      }
      .cart {
        position: sticky;
        top: 60px;
        align-self: start;
        background: linear-gradient(180deg, #0f172a, #0b1220);
        border: 1px solid #1f2937;
        border-radius: 16px;
        padding: 12px;
      }
      .cart h3 {
        margin: 0 0 8px 0;
      }
      .cart-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-height: 50vh;
        overflow: auto;
        padding-right: 4px;
      }
      .cart-item {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 4px;
        padding: 8px;
        border: 1px solid #1f2937;
        border-radius: 12px;
        background: #0a0f1c;
      }
      .cart-item .name {
        font-size: 13px;
        font-weight: 600;
      }
      .cart-item .meta {
        font-size: 12px;
        color: var(--muted);
      }
      .cart-item .amt {
        font-weight: 700;
      }
      .summary {
        display: grid;
        gap: 6px;
        margin-top: 8px;
      }
      .summary .row {
        font-size: 14px;
      }
      .divider {
        height: 1px;
        background: #1f2937;
        margin: 8px 0;
      }
      footer {
        padding: 40px 0;
        color: #94a3b8;
        text-align: center;
      }
      .empty {
        border: 1px dashed #1f2937;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        color: var(--muted);
      }
      .toast {
        position: fixed;
        bottom: 12px;
        left: 50%;
        transform: translateX(-50%);
        background: #0a0f1c;
        border: 1px solid #1f2937;
        color: var(--text);
        padding: 10px 14px;
        border-radius: 10px;
        display: none;
      }
      /* Flexbox for header */
      .container.topbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* Offer badge */
      .offer-badge {
        background: #38bdf8; /* Sky Blue */
        color: #fff;
        padding: 8px 14px;
        border-radius: 12px;
        font-size: 15px;
        font-weight: bold;
        text-align: center;
        box-shadow: 0 0 12px rgba(56, 189, 248, 0.7);
        animation: pulse 1.5s infinite, firework 2s infinite;
      }

      /* Glow animation */
      @keyframes pulse {
        0% {
          box-shadow: 0 0 6px rgba(56, 189, 248, 0.6);
        }
        50% {
          box-shadow: 0 0 20px rgba(56, 189, 248, 1);
        }
        100% {
          box-shadow: 0 0 6px rgba(56, 189, 248, 0.6);
        }
      }

      /* Crackers wiggle */
      @keyframes firework {
        0% {
          transform: scale(1) rotate(0deg);
        }
        25% {
          transform: scale(1.1) rotate(-5deg);
        }
        50% {
          transform: scale(1.2) rotate(5deg);
        }
        75% {
          transform: scale(1.1) rotate(-3deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }

      /* üì± Mobile Fix: Move badge below logo */
      @media (max-width: 600px) {
        .container.topbar {
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }
      }
      /* Customer form styling */
      .customer-input {
        width: 100%;
        padding: 8px 10px;
        border-radius: 8px;
        border: 1px solid #1f2937;
        background: #0a0f1c;
        color: #e2e8f0;
        transition: border 0.2s, box-shadow 0.2s;
      }

      .customer-input:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 6px rgba(14, 165, 233, 0.6);
      }

      .error {
        color: var(--bad);
        font-size: 12px;
        margin-top: 2px;
        display: none;
      }

      .toast-success {
        position: fixed;
        top: 30%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #16a34a; /* green */
        color: #fff;
        font-size: 18px;
        font-weight: bold;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        z-index: 1000;
        display: none;
        animation: fadeInOut 3s ease forwards;
      }

      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translate(-50%, -60%);
        }
        10% {
          opacity: 1;
          transform: translate(-50%, -50%);
        }
        90% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          transform: translate(-50%, -40%);
        }
      }
      .summary .payable {
        background: #1e3a8a; /* blue background */
        color: #fff;
        padding: 8px 10px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
      }
      .cart-icon {
        position: fixed;
        top: 12px;
        right: 12px;
        background: #0ea5e9;
        color: white;
        font-size: 20px;
        font-weight: bold;
        width: 42px;
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        cursor: pointer;
        z-index: 1000;
      }

      .badge-count {
        position: absolute;
        top: -4px;
        right: -4px;
        background: #ef4444;
        color: white;
        font-size: 12px;
        padding: 2px 6px;
        border-radius: 999px;
      }

      .back-to-top {
        position: fixed;
        bottom: 16px;
        right: 16px;
        width: 42px;
        height: 42px;
        border-radius: 50%;
        background: #0ea5e9;
        color: white;
        font-size: 20px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0.3; /* üëà very light by default */
        transition: opacity 0.3s ease;
        z-index: 999;
      }
      .back-to-top:hover {
        opacity: 1; /* üëà fully visible when hovered */
      }
      .back-to-top.visible {
        opacity: 0.9; /* üëà visible when scrolled down */
      }

      @keyframes slideNote {
        0% {
          transform: translateX(100%);
        }
        50% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-100%);
        }
      }
      #whatsappBtn {
        position: fixed;
        bottom: 80px; /* üëà keeps it above the back-to-top button */
        right: 16px;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #25d366;
        border-radius: 50%;
        width: 56px;
        height: 56px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
        transition: transform 0.2s ease-in-out;
      }
      #whatsappBtn img {
        width: 32px;
        height: 32px;
      }
      #whatsappBtn:hover {
        transform: scale(1.1);
      }

      /* Mobile Optimization */
      @media (max-width: 600px) {
        #whatsappBtn {
          width: 48px;
          height: 48px;
          bottom: 70px; /* still above back-to-top */
          right: 12px;
        }
        #whatsappBtn img {
          width: 26px;
          height: 26px;
        }
      }
      /* üì± Mobile Fix for logo + offer badge */
      @media (max-width: 600px) {
        .container.topbar {
          flex-direction: column;
          align-items: flex-start; /* keep logo & text left */
          gap: 8px;
        }

        .offer-badge {
          align-self: center; /* offer badge stays centered below */
        }
      }
      /* Firework sparkle effect */
      @keyframes sparkle {
        0%,
        100% {
          text-shadow: 0 0 6px #facc15, 0 0 12px #f97316, 0 0 18px #ef4444;
        }
        50% {
          text-shadow: 0 0 12px #fde047, 0 0 20px #fb923c, 0 0 30px #f87171;
        }
      }

      .brand h1 {
        font-size: 20px;
        margin: 0;
        font-weight: 800;
        letter-spacing: 1px;
        white-space: nowrap;

        background: linear-gradient(90deg, #facc15, #f97316, #ef4444);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;

        /* Glow + animation */
        text-shadow: 0 0 6px rgba(250, 204, 21, 0.8);
        animation: sparkle 2s infinite alternate ease-in-out;
      }
    </style>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
      integrity="sha512-/F1OeG0cJ4c9bYkG5oB12tYt7cO2k5gKQx2i6C2zq7bQ9QttC5+n7m9GJm9kQxHk6qL1b0D5V6lJg3QfL7iVwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <header>
      <div class="container topbar">
        <div class="brand">
          <img
            src="https://i.postimg.cc/9Fj7rpxZ/abs-logo.jpg"
            alt="ABS Logo"
            style="
              height: 50px;
              width: 50px;
              border-radius: 50%;
              object-fit: cover;
              margin-right: 8px;
            "
          />

          <h1>ABS Crackers World</h1>
        </div>

        <!-- Offer Badge -->
        <div class="offer-badge">
          üéÜ 90% OFFER üéÜ<br />
          <small>Min Order ‚Çπ3500</small><br />
          <span style="color: #f97316; font-weight: bold; font-size: 13px">
            üöö Free Delivery
          </span>
        </div>
      </div>

      <div class="container" style="padding-bottom: 12px">
        <div class="filters">
          <select id="categoryFilter"></select>
          <input id="search" type="search" placeholder="Search item name‚Ä¶" />
        </div>

        <!-- Customer Note -->
        <div style="margin-top: 6px; overflow: hidden; white-space: nowrap">
          <span
            style="
              display: inline-block;
              font-size: 12px;
              font-style: italic;
              color: #facc15; /* golden-yellow accent */
              animation: slideNote 20s ease-in-out infinite;
            "
          >
            <!-- The Product Image is only for your reference, the packing and brand
            may change -->
            ‚ö†Ô∏è Price has been Increased due to high demand | The Product Image
            is only for your reference, the packing and brand may change
          </span>
        </div>
      </div>

      <div class="cart-icon" onclick="scrollToCart()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="22"
          height="22"
          viewBox="0 0 24 24"
          fill="none"
          stroke="white"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path
            d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
          ></path>
        </svg>
        <span id="cartCount" class="badge-count">0</span>
      </div>
    </header>

    <main class="container layout">
      <section>
        <div id="productGrid" class="grid"></div>
        <div id="emptyState" class="empty" style="display: none">
          No items match your search.
        </div>
      </section>

      <aside class="cart" aria-live="polite">
        <h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            style="vertical-align: middle; margin-right: 6px"
          >
            <circle cx="9" cy="21" r="1" />
            <circle cx="20" cy="21" r="1" />
            <path
              d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
            />
          </svg>
          Your Cart
        </h3>

        <div id="cartList" class="cart-list"></div>
        <div class="divider"></div>
        <div class="summary">
          <div class="row">
            <span>Items</span><strong id="sumItems">0</strong>
          </div>
          <div class="row">
            <span>MRP Total</span><strong id="sumMrp">‚Çπ0</strong>
          </div>
          <div class="row payable">
            <span>Payable Amount</span><strong id="sumSale">‚Çπ0</strong>
          </div>
          <div class="row">
            <span>You Save</span
            ><strong id="sumSave" style="color: var(--ok)">‚Çπ0</strong>
          </div>
        </div>

        <div class="divider"></div>
        <div class="summary">
          <label>
            Name:
            <input
              id="custName"
              type="text"
              class="customer-input"
              placeholder="Enter your name"
            />
            <div id="errName" class="error">Name is required</div>
          </label>
          <label>
            Mobile:
            <input
              id="custPhone"
              type="text"
              class="customer-input"
              placeholder="Enter your mobile"
            />
            <div id="errPhone" class="error">
              Enter a valid 10-digit mobile number
            </div>
          </label>
          <label>
            Address:
            <textarea
              id="custAddress"
              class="customer-input"
              placeholder="Enter your address"
            ></textarea>
            <div id="errAddress" class="error">Address is required</div>
          </label>
        </div>

        <div class="divider"></div>
        <div class="row" style="gap: 8px">
          <button id="clearCart" class="btn btn-ghost" title="Remove all">
            Clear
          </button>
          <button id="placeOrder" class="btn btn-primary" style="flex: 1">
            Place Order
          </button>
        </div>
      </aside>
    </main>

    <footer>
      <div class="container">
        ¬© 2025 ABS Crackers World ‚Ä¢ Sivakasi ‚Ä¢ Call: 80720 98251 / 95971 89599 /
        82487 10751
      </div>
    </footer>

    <div id="toast" class="toast"></div>
    <!-- ‚úÖ new success popup -->
    <div id="successPopup" class="toast-success"></div>
    <!-- ‚úÖ Back to Top Button -->
    <div id="backToTop" class="back-to-top" onclick="scrollToTop()">‚Üë</div>
    <!-- ‚úÖ Floating WhatsApp Button -->
    <a
      href="https://wa.me/918072098251?text=Hello%20ABS%20Crackers%20World!%20I%20would%20like%20to%20know%20more%20about%20your%20products."
      target="_blank"
      id="whatsappBtn"
    >
      <img src="https://img.icons8.com/color/48/whatsapp.png" alt="WhatsApp" />
    </a>

    <!-- ‚úÖ jsPDF (no integrity attribute to avoid blocking) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-font@1.0.0/noto-sans.js"></script>

    <!-- Firebase Setup -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        serverTimestamp,
      } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyC47paJy6jtyR6IH8Wq1wddeEXxS26zQeU",
        authDomain: "abscrackersworld-5e2e8.firebaseapp.com",
        projectId: "abscrackersworld-5e2e8",
        storageBucket: "abscrackersworld-5e2e8.appspot.com", // ‚úÖ FIXED
        messagingSenderId: "1045745449432",
        appId: "1:1045745449432:web:c807324227ec41afb85aad",
        measurementId: "G-Q6G22EPHS5",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Expose db globally so your other script (below) can use it
      window.db = db;
      window.addDoc = addDoc;
      window.collection = collection;
      window.serverTimestamp = serverTimestamp;
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        //     async function saveOrderToFirebase(name, phone, addr, amount, items) {
        //   try {
        //     await window.addDoc(window.collection(window.db, "orders"), {
        //       name,
        //       phone,
        //       address: addr,
        //       amount,
        //       items,
        //       createdAt: window.serverTimestamp()
        //     });
        //     console.log("‚úÖ Order saved to Firestore");
        //   } catch (e) {
        //     console.error("‚ùå Error saving order:", e);
        //   }
        // }

        async function saveOrderToFirebase(name, phone, addr, amount, items) {
          try {
            const docRef = await window.addDoc(
              window.collection(window.db, "orders"),
              {
                name,
                phone,
                address: addr,
                amount,
                items,
                createdAt: window.serverTimestamp(),
              }
            );
            console.log("‚úÖ Order saved with ID:", docRef.id);
          } catch (e) {
            console.error("‚ùå Error saving order:", e);
            throw e; // rethrow so Place Order catches it
          }
        }

        // --- Data: Starter catalog ---
        const STARTER_ITEMS = [
          {
            id: 1,
            name: "10 CM ELECTRIC SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 150,
            sale: 15,
            img: "https://i.postimg.cc/Vk63x2xF/image.png",
          },
          {
            id: 2,
            name: "10 CM COLOR SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 200,
            sale: 20,
            img: "https://i.postimg.cc/RFYd2Jgz/image.png",
          },
          {
            id: 3,
            name: "10 CM GREEN SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 250,
            sale: 25,
            img: "https://i.postimg.cc/DzLb7JfT/image.png",
          },
          {
            id: 4,
            name: "10 CM RED SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/7Z7gZQXd/image.png",
          },
          {
            id: 5,
            name: "15 CM ELECTRIC SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/Vk63x2xF/image.png",
          },
          {
            id: 6,
            name: "15 CM CRACKLING SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 350,
            sale: 35,
            img: "https://i.postimg.cc/RFYd2Jgz/image.png",
          },
          {
            id: 7,
            name: "15 CM GREEN SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 400,
            sale: 40,
            img: "https://i.postimg.cc/DzLb7JfT/image.png",
          },
          {
            id: 8,
            name: "15 CM RED SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 450,
            sale: 45,
            img: "https://i.postimg.cc/7Z7gZQXd/image.png",
          },
          {
            id: 9,
            name: "30 CM ELECTRIC SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 400,
            sale: 40,
            img: "https://i.postimg.cc/Vk63x2xF/image.png",
          },
          {
            id: 10,
            name: "30 CM CRACKLING SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 450,
            sale: 45,
            img: "https://i.postimg.cc/RFYd2Jgz/image.png",
          },
          {
            id: 11,
            name: "30 CM GREEN SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 500,
            sale: 50,
            img: "https://i.postimg.cc/DzLb7JfT/image.png",
          },
          {
            id: 12,
            name: "30 CM RED SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 550,
            sale: 55,
            img: "https://i.postimg.cc/7Z7gZQXd/image.png",
          },
          {
            id: 13,
            name: "50 CM ELECTRIC SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 1700,
            sale: 170,
            img: "https://i.postimg.cc/yxXMKTtZ/image.png",
          },
          {
            id: 14,
            name: "50 CM COLOR SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 1900,
            sale: 190,
            img: "https://i.postimg.cc/Z5D1Jn7V/image.png",
          },
          {
            id: 15,
            name: "ROTATING SPARKLERS",
            category: "SPARKLERS",
            unit: "1 BOX",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/Qx7BQK5W/image.png",
          },
          {
            id: 16,
            name: "CHAKKARAM BIG (10 PCS)",
            category: "GROUND CHAKKARAS",
            unit: "1 BOX",
            mrp: 350,
            sale: 35,
            img: "https://i.postimg.cc/MHVQpnmR/image.png",
          },
          {
            id: 17,
            name: "CHAKKARAM BIG (25 PCS)",
            category: "GROUND CHAKKARAS",
            unit: "1 BOX",
            mrp: 800,
            sale: 80,
            img: "https://i.postimg.cc/MHVQpnmR/image.png",
          },
          {
            id: 18,
            name: "CHAKKARAM SPECIAL",
            category: "GROUND CHAKKARAS",
            unit: "1 BOX",
            mrp: 1000,
            sale: 100,
            img: "https://i.postimg.cc/bwJw6GST/image.png",
          },
          {
            id: 19,
            name: "CHAKKARAM DELUXE",
            category: "GROUND CHAKKARAS",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/MG2gnNwQ/image.png",
          },
          {
            id: 20,
            name: "FLOWER POT BIG",
            category: "FLOWER POT",
            unit: "1 BOX",
            mrp: 700,
            sale: 70,
            img: "https://i.postimg.cc/44BKw17q/image.png",
          },
          {
            id: 21,
            name: "FLOWER POT SPECIAL",
            category: "FLOWER POT",
            unit: "1 BOX",
            mrp: 1000,
            sale: 100,
            img: "https://i.postimg.cc/3xDd85SQ/image.png",
          },
          {
            id: 22,
            name: "FLOWER POT ASHOKA",
            category: "FLOWER POT",
            unit: "1 BOX",
            mrp: 1600,
            sale: 160,
            img: "https://i.postimg.cc/3xDd85SQ/image.png",
          },
          {
            id: 23,
            name: "FLOWER POT DELUXE",
            category: "FLOWER POT",
            unit: "1 BOX",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/FHjNC9Cz/image.png",
          },
          {
            id: 24,
            name: "COLOR KOTI",
            category: "FLOWER POT",
            unit: "1 BOX",
            mrp: 2200,
            sale: 220,
            img: "https://i.postimg.cc/FHZssryq/image.png",
          },
          {
            id: 25,
            name: "1 1/2 TWINKLING STAR",
            category: "TWINKLING STAR",
            unit: "1 BOX",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/J7ZHfd72/image.png",
          },
          {
            id: 26,
            name: "4' TWINKLING STAR DELUXE",
            category: "TWINKLING STAR",
            unit: "1 BOX",
            mrp: 800,
            sale: 80,
            img: "https://i.postimg.cc/GhMLVkDf/image.png",
          },
          {
            id: 27,
            name: "2 3/4 KURUVI",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 80,
            sale: 8,
            img: "https://i.postimg.cc/bJBFxBb8/image.png",
          },
          {
            id: 28,
            name: "3 1/2 LAKSHMI",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 180,
            sale: 18,
            img: "https://i.postimg.cc/C5bXw4Bg/image.png",
          },
          {
            id: 29,
            name: "4' PARROT",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 250,
            sale: 25,
            img: "https://i.postimg.cc/MKQKQkR6/image.png",
          },
          {
            id: 30,
            name: "4' DELUXE HULK",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/PxCNVCLZ/image.png",
          },
          {
            id: 31,
            name: "4' GOLD LAKSHMI DLX",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 350,
            sale: 35,
            img: "https://i.postimg.cc/1XRwzm43/image.png",
          },
          {
            id: 32,
            name: "5' JALLIKATTU DLX",
            category: "ONE SOUND CRACKERS",
            unit: "1 PKT",
            mrp: 450,
            sale: 45,
            img: "https://i.postimg.cc/DZkc73qS/image.png",
          },
          {
            id: 33,
            name: "BULLET (FOILS BOMB)",
            category: "BOMB",
            unit: "1BOX",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/L41z33qm/image.png",
          },
          {
            id: 34,
            name: "HYDRO BOMB CLASSIC",
            category: "BOMB",
            unit: "1BOX",
            mrp: 500,
            sale: 50,
            img: "https://i.postimg.cc/rmsjswvw/image.png",
          },
          {
            id: 35,
            name: "HYDROGEN BOMB",
            category: "BOMB",
            unit: "1 BOX",
            mrp: 750,
            sale: 75,
            img: "https://i.postimg.cc/g0jhXVFF/image.png",
          },
          {
            id: 36,
            name: "DINOSAUR BOMB",
            category: "BOMB",
            unit: "1BOX",
            mrp: 1250,
            sale: 125,
            img: "https://i.postimg.cc/Z57BSW9f/image.png",
          },
          {
            id: 37,
            name: "SINDHU BOMB DLX",
            category: "BOMB",
            unit: "1 BOX",
            mrp: 1900,
            sale: 190,
            img: "https://i.postimg.cc/QMy4p7gT/image.png",
          },
          {
            id: 38,
            name: "BADA BOMB ULTRA DLX",
            category: "BOMB",
            unit: "1BOX",
            mrp: 3500,
            sale: 350,
            img: "https://i.postimg.cc/gcQxf2sH/image.png",
          },
          {
            id: 39,
            name: "28 GIANT",
            category: "GIANT & DELUXE",
            unit: "1 PKT",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/2yRf7Mdh/image.png",
          },
          {
            id: 40,
            name: "56 GIANT",
            category: "GIANT & DELUXE",
            unit: "1 PKT",
            mrp: 600,
            sale: 60,
            img: "https://i.postimg.cc/x8SWzHYP/image.png",
          },
          {
            id: 41,
            name: "50 DELUXE",
            category: "GIANT & DELUXE",
            unit: "1 PKT",
            mrp: 1200,
            sale: 120,
            img: "https://i.postimg.cc/Mp43BRmj/image.png",
          },
          {
            id: 42,
            name: "4' 100 MEGA DELUXE",
            category: "GIANT & DELUXE",
            unit: "1 PKT",
            mrp: 2200,
            sale: 220,
            img: "https://i.postimg.cc/ZncDvMwT/image.png",
          },
          {
            id: 43,
            name: "1K",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/s2QRt7cV/image.png",
          },
          {
            id: 44,
            name: "2K",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 3500,
            sale: 350,
            img: "https://i.postimg.cc/Cx92ntGg/image.png",
          },
          {
            id: 45,
            name: "5K",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 7000,
            sale: 700,
            img: "https://i.postimg.cc/8zSQz4vc/image.png",
          },
          {
            id: 46,
            name: "10K",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 16000,
            sale: 1600,
            img: "https://i.postimg.cc/gJMByqrV/image.png",
          },
          {
            id: 47,
            name: "1K (BRAND)",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 3500,
            sale: 350,
            img: "https://i.postimg.cc/wT7F52TT/image.png",
          },
          {
            id: 48,
            name: "2K (BRAND)",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 6000,
            sale: 600,
            img: "https://i.postimg.cc/CKYj2sY8/image.png",
          },
          {
            id: 49,
            name: "5K (BRAND)",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 14000,
            sale: 1400,
            img: "https://i.postimg.cc/zD9pjWLC/image.png",
          },
          {
            id: 50,
            name: "10K (BRAND)",
            category: "RED MAGIC CRACKERS",
            unit: "1 BOX",
            mrp: 25000,
            sale: 2500,
            img: "https://i.postimg.cc/fL178nbz/image.png",
          },
          {
            id: 51,
            name: "SKY SHOT",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 400,
            sale: 40,
            img: "https://i.postimg.cc/3xvfg1JQ/image.png",
          },
          {
            id: 52,
            name: "2' ARIAL FANCY",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 1100,
            sale: 110,
            img: "https://i.postimg.cc/nhPBTfrX/image.png",
          },
          {
            id: 53,
            name: "2' ARIAL FANCY (3 PCS)",
            category: "MEGA FANCY OUT",
            unit: "3 PCS",
            mrp: 3000,
            sale: 300,
            img: "https://i.postimg.cc/PJXCTSNG/image.png",
          },
          {
            id: 54,
            name: "3 1/2 ARIAL FANCY",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 3100,
            sale: 310,
            img: "https://i.postimg.cc/N0CzmkK1/image.png",
          },
          {
            id: 55,
            name: "3 1/2 GUN OUT (ULTRA SOUND)",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 3800,
            sale: 380,
            img: "https://i.postimg.cc/R0hPSJgq/image.png",
          },
          {
            id: 56,
            name: "4' ARIAL FANCY",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 4250,
            sale: 425,
            img: "https://i.postimg.cc/tJ3kS34v/image.png",
          },
          {
            id: 57,
            name: "4' PIPE (ULTRA SHOW)",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 6000,
            sale: 600,
            img: "https://i.postimg.cc/8cSB67mR/image.png",
          },
          {
            id: 58,
            name: "5' PIPE FANCY",
            category: "MEGA FANCY OUT",
            unit: "1 PCS",
            mrp: 8500,
            sale: 850,
            img: "https://i.postimg.cc/wvKDC1PC/image.png",
          },
          {
            id: 59,
            name: "5' FANCY (ULTRA SHOW)",
            category: "MEGA FANCY OUT",
            unit: "2 PCS",
            mrp: 16500,
            sale: 1650,
            img: "https://i.postimg.cc/DZByqDqx/image.png",
          },
          {
            id: 60,
            name: "12 SHOT",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/GhZqhDP7/image.png",
          },
          {
            id: 61,
            name: "25 SHOT",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 2600,
            sale: 260,
            img: "https://i.postimg.cc/nzPqS80R/image.png",
          },
          {
            id: 62,
            name: "30 SHOT MULTI COLOUR (GOLD)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 3750,
            sale: 375,
            img: "https://i.postimg.cc/k5R1vcJd/image.png",
          },
          {
            id: 63,
            name: "60 SHOT MULTI COLOUR (GOLD)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 8000,
            sale: 800,
            img: "https://i.postimg.cc/ryNhjzkz/image.png",
          },
          {
            id: 64,
            name: "120 SHOT MULTI COLOUR (GOLD)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 15000,
            sale: 1500,
            img: "https://i.postimg.cc/L593wBp5/image.png",
          },
          {
            id: 65,
            name: "240 SHOT MULTI COLOUR (GOLD)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 30000,
            sale: 3000,
            img: "https://i.postimg.cc/prmxKdVd/image.png",
          },
          {
            id: 66,
            name: "30 SHOT MULTI COLOUR (PREMIUM)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 6000,
            sale: 600,
            img: "https://i.postimg.cc/8cZmSJpH/image.png",
          },
          {
            id: 67,
            name: "60 SHOT MULTI COLOUR (PREMIUM)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 12000,
            sale: 1200,
            img: "https://i.postimg.cc/3JWgGwrs/image.png",
          },
          {
            id: 68,
            name: "120 SHOT MULTI COLOUR (PREMIUM)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 24000,
            sale: 2400,
            img: "https://i.postimg.cc/jq3fRr6Z/image.png",
          },
          {
            id: 69,
            name: "240 SHOT MULTI COLOUR (PREMIUM)",
            category: "MULTI COLOUR SKY SHOT",
            unit: "1 BOX",
            mrp: 43000,
            sale: 4300,
            img: "https://i.postimg.cc/tgm9JPyc/image.png",
          },
          {
            id: 70,
            name: "KITKAT",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 250,
            sale: 25,
            img: "https://i.postimg.cc/GtGMYJCm/image.png",
          },
          {
            id: 71,
            name: "SNAKE TABLET",
            category: "FANCY FOUNTAINS",
            unit: "1 PKT",
            mrp: 250,
            sale: 25,
            img: "https://i.postimg.cc/q7WXLhQh/image.png",
          },
          {
            id: 72,
            name: "BUTTERFLY (10 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 600,
            sale: 60,
            img: "https://i.postimg.cc/15MGdYJZ/image.png",
          },
          {
            id: 73,
            name: "GANGA JAMUNA",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 1000,
            sale: 100,
            img: "https://i.postimg.cc/wTBy1xcS/image.png",
          },
          {
            id: 74,
            name: "TOM & JERRY",
            category: "FANCY FOUNTAINS",
            unit: "5 PCS",
            mrp: 2000,
            sale: 200,
            img: "https://i.postimg.cc/KYt461xg/image.png",
          },
          {
            id: 75,
            name: "MASTER TREAT CRACKLING",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1750,
            sale: 175,
            img: "https://i.postimg.cc/5ySGYdLt/image.png",
          },
          {
            id: 76,
            name: "DRONE",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/d1psDvsK/image-removebg-preview.jpg",
          },
          {
            id: 77,
            name: "DANCING BAMBARAM (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/pd7bJZgf/image.png",
          },
          {
            id: 78,
            name: "BINGO SHOWER (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/CMbTbbJ8/image.png",
          },
          {
            id: 79,
            name: "TIN BEER (RED, GREEN, CRACKLING)",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 1200,
            sale: 120,
            img: "https://i.postimg.cc/wjCQ5Rwt/image-removebg-preview-1.jpg",
          },
          {
            id: 80,
            name: "GOLDEN POPS (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1600,
            sale: 160,
            img: "https://i.postimg.cc/ZnWWDVRJ/image.png",
          },
          {
            id: 81,
            name: "PEACOCK (RED, GREEN, GOLD)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1800,
            sale: 180,
            img: "https://i.postimg.cc/6p8N2gPW/image-removebg-preview-2.jpg",
          },
          {
            id: 82,
            name: "PENTA FANCY (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1750,
            sale: 175,
            img: "https://i.postimg.cc/Wb4BCxTG/image.png",
          },
          {
            id: 83,
            name: "RAINBOW COLOUR SMOKE (3 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/T2tSVQgp/image.png",
          },
          {
            id: 84,
            name: "MEGA SIREN (3 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/NjBpZH1W/image.png",
          },
          {
            id: 85,
            name: "SILVER MOON",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2000,
            sale: 200,
            img: "https://i.postimg.cc/zXSkwG9p/image.png",
          },
          {
            id: 86,
            name: "PHOTO FLASH (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 850,
            sale: 85,
            img: "https://i.postimg.cc/nrTCzgPK/image.png",
          },
          {
            id: 87,
            name: "COCKFITE CRACKLING (2 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2750,
            sale: 275,
            img: "https://i.postimg.cc/fTB8nbBy/image.png",
          },
          {
            id: 88,
            name: "WELCOME ANGEL",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 1750,
            sale: 175,
            img: "https://i.postimg.cc/J465Y2zB/image.png",
          },
          {
            id: 89,
            name: "TRICOLOUR FOUNTAIN (5 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2750,
            sale: 275,
            img: "https://i.postimg.cc/kMjS7t30/image.png",
          },
          {
            id: 90,
            name: "FIRE EGG (2 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 1800,
            sale: 180,
            img: "https://i.postimg.cc/0QVz5h3Y/image.png",
          },
          {
            id: 91,
            name: "HANUMAN KADA",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 2200,
            sale: 220,
            img: "https://i.postimg.cc/0y7rKzF2/image.png",
          },
          {
            id: 92,
            name: "GUITAR",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/y8f6Z0nK/image-removebg-preview-3.jpg",
          },
          {
            id: 93,
            name: "WATER QUEEN (COLD PYRO)",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 3500,
            sale: 350,
            img: "https://i.postimg.cc/fyZQFb55/image.png",
          },
          {
            id: 94,
            name: "BADA PEACOCK",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 4500,
            sale: 450,
            img: "https://i.postimg.cc/BbJRpVQV/image.png",
          },
          {
            id: 95,
            name: "MAGIC SHOW MONEY PAPER (2 PCS)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            mrp: 2750,
            sale: 275,
            img: "https://i.postimg.cc/VsHFDh60/image.png",
          },
          {
            id: 96,
            name: "PAPER BOMB 1/4 KG",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 550,
            sale: 55,
            img: "https://i.postimg.cc/rwyxTCK2/image.png",
          },
          {
            id: 97,
            name: "PAPER BOMB 1/2 KG",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 1100,
            sale: 110,
            img: "https://i.postimg.cc/3wVv2s93/image.png",
          },
          {
            id: 98,
            name: "PAPER BOMB 1 KG",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            mrp: 2200,
            sale: 220,
            img: "https://i.postimg.cc/0jdKRbvN/image.png",
          },
          {
            id: 99,
            name: "RED BIJILI 50 PCS (GOLD PKT)",
            category: "BIJILI",
            unit: "1PKT",
            mrp: 250,
            sale: 25,
            img: "https://i.postimg.cc/8kq4kDwT/image.png",
          },
          {
            id: 100,
            name: "RED BIJILI 100 PCS (GOLD PKT)",
            category: "BIJILI",
            unit: "1PKT",
            mrp: 500,
            sale: 50,
            img: "https://i.postimg.cc/HL4RXnZ0/image.png",
          },
          {
            id: 101,
            name: "BABY ROCKET",
            category: "ROCKET",
            unit: "1 BOX",
            mrp: 300,
            sale: 30,
            img: "https://i.postimg.cc/cCK9JBvH/image.png",
          },
          {
            id: 102,
            name: "BOMB ROCKET",
            category: "ROCKET",
            unit: "1 BOX",
            mrp: 800,
            sale: 80,
            img: "https://i.postimg.cc/MGMvdcfB/image.png",
          },
          {
            id: 103,
            name: "LUNIC ROCKET",
            category: "ROCKET",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/13L9Rv4g/image.png",
          },
          {
            id: 104,
            name: "WHISTLING ROCKET",
            category: "ROCKET",
            unit: "1 BOX",
            mrp: 1750,
            sale: 175,
            img: "https://i.postimg.cc/j5xBRf6w/image.png",
          },
          {
            id: 105,
            name: "GIFT BOX (18 ITEMS)",
            category: "GIFT BOX",
            unit: "18 ITEMS",
            mrp: 2500,
            sale: 250,
            img: "https://i.postimg.cc/W3ZXZ6Gf/image.png",
          },
          {
            id: 106,
            name: "GIFT BOX (21 ITEMS)",
            category: "GIFT BOX",
            unit: "21 ITEMS",
            mrp: 3250,
            sale: 325,
            img: "https://i.postimg.cc/FspG0KSm/image.png",
          },
          {
            id: 107,
            name: "GIFT BOX (30 ITEMS)",
            category: "GIFT BOX",
            unit: "30 ITEMS",
            mrp: 5500,
            sale: 550,
            img: "https://i.postimg.cc/Zn32Tzsn/image.png",
          },
          {
            id: 108,
            name: "GIFT BOX (40 ITEMS)",
            category: "GIFT BOX",
            unit: "40 ITEMS",
            mrp: 8000,
            sale: 800,
            img: "https://i.postimg.cc/pTMKwNjq/image.png",
          },
          {
            id: 109,
            name: "GIFT BOX (50 ITEMS)",
            category: "GIFT BOX",
            unit: "50 ITEMS",
            mrp: 11000,
            sale: 1100,
            img: "https://i.postimg.cc/tCvWXnP1/image.png",
          },
          {
            id: 110,
            name: "ANNAM",
            category: "MATCH BOX",
            unit: "1 BOX",
            mrp: 750,
            sale: 75,
            img: "https://i.postimg.cc/xjh9n08f/image.png",
          },
          {
            id: 111,
            name: "HERO",
            category: "MATCH BOX",
            unit: "1 BOX",
            mrp: 1500,
            sale: 150,
            img: "https://i.postimg.cc/LsxM7SGM/image.png",
          },
          {
            id: 112,
            name: "ROYAL SUPER MEGA",
            category: "MATCH BOX",
            unit: "1 BOX",
            mrp: 2000,
            sale: 200,
            img: "https://i.postimg.cc/W3JTJKfL/image-removebg-preview-4.jpg",
          },
          {
            id: 113,
            name: "GUN SMALL",
            category: "GUN",
            unit: "1 PIECE",
            mrp: 400,
            sale: 40,
            img: "https://i.postimg.cc/X7n6Vp30/image.png",
          },
          {
            id: 114,
            name: "GUN MEDIUM",
            category: "GUN",
            unit: "1 PIECE",
            mrp: 600,
            sale: 60,
            img: "https://i.postimg.cc/2ywJq7mN/image.png",
          },
          {
            id: 115,
            name: "GUN BIG",
            category: "GUN",
            unit: "1 PIECE",
            mrp: 900,
            sale: 90,
            img: "https://i.postimg.cc/vZ1qMs1s/image.png",
          },
          {
            id: 116,
            name: "GUN BADA BIG",
            category: "GUN",
            unit: "1 PIECE",
            mrp: 1350,
            sale: 135,
            img: "https://i.postimg.cc/gjTVBxH6/image.png",
          },
          {
            id: 117,
            name: "ROLL CAP",
            category: "GUN",
            unit: "1 PIECE",
            mrp: 100,
            sale: 10,
            img: "https://i.postimg.cc/hjxLfZSf/image.png",
          },
          {
            id: 118,
            name: "RING CAP",
            category: "GUN",
            unit: "1 PKT",
            mrp: 80,
            sale: 8,
            img: "https://i.postimg.cc/bvg2BGzN/image.png",
          },
          {
            id: 119,
            name: "POP-POP",
            category: "GUN",
            unit: "1 BOX",
            mrp: 100,
            sale: 10,
            img: "https://i.postimg.cc/t4StfVSC/image.png",
          },
          {
            id: 120,
            name: "APPLE - MIX",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            sale: 175,
            mrp: 1750,
            img: "https://i.postimg.cc/9Fj7rpxZ/abs-logo.jpg",
          },
          {
            id: 121,
            name: "POPEYE (TRICOLOUR FOUNTAINS)",
            category: "FANCY FOUNTAINS",
            unit: "5 PCS",
            sale: 260,
            mrp: 2600,
            img: "https://i.postimg.cc/vZTs5zpW/image.png",
          },
          {
            id: 122,
            name: "RAJAKALA MEGA FOUNTAIN",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            sale: 400,
            mrp: 4000,
            img: "https://i.postimg.cc/tJ90Jt3n/image.png",
          },
          {
            id: 123,
            name: "DHANDIYA PEACOCK",
            category: "FANCY FOUNTAINS",
            unit: "1 PCS",
            sale: 450,
            mrp: 4500,
            img: "https://i.postimg.cc/d36byk6H/image.png",
          },
          {
            id: 124,
            name: "KURKURE MIX (10 SMOKE SHOT)",
            category: "FANCY FOUNTAINS",
            unit: "1 BOX",
            sale: 350,
            mrp: 3500,
            img: "https://i.postimg.cc/bws7Zvtg/image.png",
          },
        ];
        // --- State ---
        const STORAGE_KEY = "abs_crackers_catalog_v8";
        const CART_KEY = "abs_crackers_cart_v1";

        const Catalog = {
          list: [],
          load() {
            try {
              const saved = localStorage.getItem(STORAGE_KEY);
              if (saved) {
                const parsed = JSON.parse(saved);
                if (Array.isArray(parsed) && parsed.length > 0) {
                  this.list = parsed;
                } else {
                  this.list = STARTER_ITEMS;
                  this.save();
                }
              } else {
                this.list = STARTER_ITEMS;
                this.save();
              }
            } catch (e) {
              console.error("Catalog load failed, using starter items:", e);
              this.list = STARTER_ITEMS;
              this.save();
            }
            this.list = this.list.map((it, idx) => ({
              id: it.id ?? idx + 1,
              ...it,
            }));
          },
          save() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(this.list));
          },
        };

        console.log("First item with image:", Catalog.list[0]);

        const Cart = {
          items: {},
          load() {
            try {
              this.items = JSON.parse(localStorage.getItem(CART_KEY) || "{}");
              // cleanup invalid IDs
              for (const id of Object.keys(this.items)) {
                if (!Catalog.list.find((x) => x.id == id))
                  delete this.items[id];
              }
              this.save();
            } catch (e) {
              console.error("Cart load failed, resetting:", e);
              this.items = {};
              this.save();
            }
          },
          save() {
            localStorage.setItem(CART_KEY, JSON.stringify(this.items));
          },
          add(id, qty = 1) {
            this.items[id] = (this.items[id] || 0) + qty;
            this.save();
            renderCart();
            toast("Added to cart");
          },
          set(id, qty) {
            if (qty <= 0) delete this.items[id];
            else this.items[id] = qty;
            this.save();
            renderCart();
          },
          clear() {
            this.items = {};
            this.save();
            renderCart();
          },
        };

        // --- UI helpers ---
        const el = (sel) => document.querySelector(sel);
        const fmt = (n) => "‚Çπ" + (n || 0).toLocaleString("en-IN");
        const toast = (msg) => {
          const t = el("#toast");
          t.textContent = msg;
          t.style.display = "block";
          setTimeout(() => (t.style.display = "none"), 1400);
        };

        // --- Render Catalog ---
        function renderFilters() {
          const categories = Array.from(
            new Set(Catalog.list.map((x) => x.category))
          ).sort();
          const sel = el("#categoryFilter");
          sel.innerHTML =
            `<option value="">All categories</option>` +
            categories.map((c) => `<option>${c}</option>`).join("");
        }
        function filteredItems() {
          const q = el("#search").value.trim().toLowerCase();
          const cat = el("#categoryFilter").value;
          return Catalog.list.filter((it) => {
            const okCat = !cat || it.category === cat;
            const okQ = !q || it.name.toLowerCase().includes(q);
            return okCat && okQ;
          });
        }

        function renderGrid() {
          const grid = el("#productGrid");
          const items = filteredItems();

          grid.innerHTML = items
            .map((it) => {
              const save = (it.mrp || 0) - (it.sale || 0);
              return `
            <div class="card" role="group" aria-label="${it.name}">

              <!-- Product Image (fixed square thumbnail) -->
              <div class="img-box" style="width:100%;height:150px;margin-bottom:8px;overflow:hidden;border-radius:12px;">
                <img src="${it.img}" alt="${it.name}"
                     style="width:100%;height:100%;object-fit:cover;display:block;"/>
              </div>

              <!-- Category & Unit -->
              <div class="row">
                <div class="pill">${it.category}</div>
                <div class="muted">${it.unit || ""}</div>
              </div>

              <!-- Product Title -->
              <div class="title">${it.name}</div>

              <!-- Price & Savings -->
              <div class="row">
                <div class="price">
                  <span class="mrp">${fmt(it.mrp)}</span>
                  <span class="sale">${fmt(it.sale)}</span>
                </div>
                <div class="muted">Save ${fmt(save)}</div>
              </div>

              <!-- Quantity & Add to Cart -->
              <div class="row" style="margin-top:auto;gap:8px">
                <div class="qty">
                  <button aria-label="decrease" onclick="chgQty(${
                    it.id
                  },-1)">‚àí</button>
                  <input id="q_${it.id}" type="number" min="1" value="1" />
                  <button aria-label="increase" onclick="chgQty(${
                    it.id
                  },1)">+</button>
                </div>
                <button class="btn btn-primary" style="flex:1" onclick="addToCart(${
                  it.id
                })">Add</button>
              </div>

            </div>`;
            })
            .join("");

          // Empty state toggle
          el("#emptyState").style.display = items.length ? "none" : "block";
        }

        function chgQty(id, delta) {
          const inp = el("#q_" + id);
          let v = parseInt(inp.value || "1", 10);
          v = Math.max(1, v + delta);
          inp.value = v;
        }
        function addToCart(id) {
          const q = parseInt(el("#q_" + id)?.value || "1", 10);
          Cart.add(id, q);
        }

        function scrollToCart() {
          document
            .querySelector(".cart")
            ?.scrollIntoView({ behavior: "smooth" });
        }
        window.scrollToCart = scrollToCart; // ‚úÖ expose globally

        // Update cart count bubble whenever cart changes
        function updateCartCount() {
          let sum = 0;
          for (const qty of Object.values(Cart.items)) sum += qty;
          el("#cartCount").textContent = sum;
          el("#cartCount").style.display = sum > 0 ? "block" : "none";
        }
        function scrollToTop() {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
        window.scrollToTop = scrollToTop; // expose for onclick

        // show/hide button while scrolling
        const backToTopBtn = document.getElementById("backToTop");
        window.addEventListener("scroll", () => {
          if (window.scrollY > 300) {
            backToTopBtn.classList.add("visible");
          } else {
            backToTopBtn.classList.remove("visible");
          }
        });

        // --- Render Cart ---
        function renderCart() {
          const list = el("#cartList");
          const lines = [];
          let sumItems = 0,
            mrp = 0,
            sale = 0;
          for (const [id, qty] of Object.entries(Cart.items)) {
            const it = Catalog.list.find((x) => x.id == id);
            if (!it) continue;
            const lineMrp = (it.mrp || 0) * qty;
            const lineSale = (it.sale || 0) * qty;
            sumItems += qty;
            mrp += lineMrp;
            sale += lineSale;
            lines.push(`
              <div class="cart-item">
                <div>
                  <div class="name">${it.name}</div>
                  <div class="meta">${it.unit || ""} ‚Ä¢ ${it.category}</div>
                  <div class="meta">${qty} √ó ${fmt(
              it.sale
            )} <span style="margin-left:6px">(MRP ${fmt(it.mrp)})</span></div>
                </div>
                <div style="text-align:right">
                  <div class="amt">${fmt(lineSale)}</div>
                  <div class="muted">Save ${fmt(lineMrp - lineSale)}</div>
                  <div class="qty" style="margin-top:6px;justify-content:flex-end">
                    <button onclick="Cart.set(${id}, (Cart.items[${id}]||0)-1)">‚àí</button>
                    <input type="number" min="0" value="${qty}" onchange="Cart.set(${id}, parseInt(this.value||'0',10))"/>
                    <button onclick="Cart.set(${id}, (Cart.items[${id}]||0)+1)">+</button>
                  </div>
                </div>
              </div>`);
          }
          list.innerHTML =
            lines.join("") || `<div class="empty">Your cart is empty.</div>`;
          el("#sumItems").textContent = sumItems;
          el("#sumMrp").textContent = fmt(mrp);
          el("#sumSale").textContent = fmt(sale);
          el("#sumSave").textContent = fmt(mrp - sale);
          updateCartCount();
        }

        // --- WhatsApp Order ---
        function buildOrderText() {
          const lines = [];
          lines.push("*ABS Crackers Order*", "");
          for (const [id, qty] of Object.entries(Cart.items)) {
            const it = Catalog.list.find((x) => x.id == id);
            if (!it) continue;
            lines.push(
              `‚Ä¢ ${it.name} (${it.unit}) ‚Äî Qty ${qty} ‚Äî ${fmt(it.sale)} each`
            );
          }
          lines.push("");
          lines.push(`MRP Total: ${el("#sumMrp").textContent}`);
          lines.push(`Discount Total: ${el("#sumSale").textContent}`);
          lines.push(`You Save: ${el("#sumSave").textContent}`);
          lines.push("");
          lines.push("Customer Name: ____");
          lines.push("Delivery/Pickup: ____");
          lines.push("Address/Notes: ____");
          return lines.join("\n");
        }
        function openWhatsApp() {
          const number = "918111087914";
          const text = encodeURIComponent(buildOrderText());
          window.open(`https://wa.me/${number}?text=${text}`, "_blank");
        }

        function showSuccess(msg) {
          const box = el("#successPopup");
          box.textContent = msg;
          box.style.display = "block";
          setTimeout(() => (box.style.display = "none"), 3000);
        }

        // --- PDF Generation ---

        // final

        async function downloadOrderPdf() {
          const { jsPDF } = window.jspdf;
          const doc = new jsPDF();

          // --- Load ABS Logo ---
          const logo = new Image();
          logo.crossOrigin = "anonymous";
          logo.src = "https://i.postimg.cc/9Fj7rpxZ/abs-logo.jpg";
          await new Promise((resolve) => {
            logo.onload = resolve;
          });

          // --- Load God Image ---
          const godImg = new Image();
          godImg.crossOrigin = "anonymous";
          godImg.src = "https://i.postimg.cc/MGmbtLv7/abs-god.webp";
          await new Promise((resolve) => {
            godImg.onload = resolve;
          });

          // --- Place Logo (left corner) ---
          doc.addImage(logo, "JPEG", 14, 10, 30, 30);

          // --- Place God Image (right corner) ---
          doc.addImage(godImg, "WEBP", 165, 10, 30, 30);

          // --- Header Text (center-left) ---
          doc.setFontSize(16);
          doc.text("ABS Crackers World", 60, 20);
          doc.setFontSize(10);
          doc.text("5/288/33, Sivakasi - 626189", 60, 26);
          doc.text("Contact: +91 80720 98251 / 95971 89599", 60, 32);

          // --- Invoice Info (shifted lower, below god image) ---
          const invoiceNo = "INV-" + Date.now();
          doc.setFontSize(11);
          doc.text(`Invoice No: ${invoiceNo}`, 150, 48); // ‚¨ÖÔ∏è moved down
          doc.text(`Date: ${new Date().toLocaleDateString()}`, 150, 54); // ‚¨ÖÔ∏è moved down

          // --- Customer Details ---
          const name = document.getElementById("custName")?.value || "N/A";
          const phone = document.getElementById("custPhone")?.value || "N/A";
          const addr = document.getElementById("custAddress")?.value || "N/A";

          doc.setFontSize(12);
          doc.text("Bill To:", 14, 50);
          doc.text(name, 50, 50);
          doc.text("Mobile:", 14, 56);
          doc.text(phone, 50, 56);
          doc.text("Ship To:", 14, 66);
          doc.text(addr, 50, 66);

          // --- Table Data ---
          const rows = [];
          let idx = 1,
            subtotal = 0;
          for (const [id, qty] of Object.entries(Cart.items)) {
            const it = Catalog.list.find((x) => x.id == id);
            if (!it) continue;
            const lineTotal = (it.sale || 0) * qty;
            subtotal += lineTotal;

            const price = fmt(it.sale).replace("‚Çπ", "Rs. ");
            const total = fmt(lineTotal).replace("‚Çπ", "Rs. ");
            rows.push([idx++, it.name, qty, price, total]);
          }

          // --- AutoTable ---
          doc.autoTable({
            head: [["#", "Product", "Qty", "Price", "Total"]],
            body: rows,
            startY: 80,
            theme: "striped",
            headStyles: { fillColor: [0, 123, 255] },
            styles: { halign: "center" },
            columnStyles: {
              1: { halign: "left" },
              2: { halign: "center" },
              3: { halign: "right" },
              4: { halign: "right" },
            },
          });

          const finalY = doc.lastAutoTable.finalY + 10;

          // --- Total ---
          const subText = fmt(subtotal).replace("‚Çπ", "Rs. ");
          doc.setFontSize(14);
          doc.setLineWidth(0.5);
          doc.line(150, finalY - 4, 200, finalY - 4);
          doc.text(`Total: ${subText}`, 200, finalY + 4, { align: "right" });

          // --- Footer ---
          doc.setFontSize(12);
          doc.text("Thank you for your order!", 80, 290);

          // --- Save PDF ---
          doc.save(`Invoice_${invoiceNo}.pdf`);
        }

        function validateCustomer() {
          let valid = true;

          const name = el("#custName").value.trim();
          const phone = el("#custPhone").value.trim();
          const addr = el("#custAddress").value.trim();

          // Reset errors
          ["errName", "errPhone", "errAddress"].forEach(
            (id) => (el("#" + id).style.display = "none")
          );

          if (!name) {
            el("#errName").style.display = "block";
            valid = false;
          }
          if (!/^[6-9]\d{9}$/.test(phone)) {
            el("#errPhone").style.display = "block";
            valid = false;
          }
          if (!addr) {
            el("#errAddress").style.display = "block";
            valid = false;
          }

          return valid;
        }

        // --- Events ---
        el("#search").addEventListener("input", renderGrid);
        el("#categoryFilter").addEventListener("change", renderGrid);
        //   el('#placeOrder').addEventListener('click', async ()=>{
        //   if(Object.keys(Cart.items).length===0){
        //     toast('Add items first');
        //     return;
        //   }
        //   if(!validateCustomer()){
        //     toast('Please fix errors');
        //     return;
        //   }

        //   // --- Collect customer details ---
        //   const name = el('#custName').value.trim();
        //   const phone = el('#custPhone').value.trim();
        //   const addr = el('#custAddress').value.trim();

        //   // Amount from Discount Total
        //   const amount = parseInt(el('#sumSale').textContent.replace(/[‚Çπ,]/g,''), 10);

        //   // Prepare items list
        //   const items = Object.entries(Cart.items).map(([id, qty]) => {
        //     const it = Catalog.list.find(x => x.id == id);
        //     return { name: it?.name || '', qty, price: it?.sale || 0 };
        //   });

        //   // --- Download invoice ---
        //   await downloadOrderPdf();

        //   // --- Save to Firestore ---
        //   await saveOrderToFirebase(name, phone, addr, amount, items);

        //   // --- Success message ---
        //   showSuccess('‚úÖ Order placed successfully! Invoice downloaded.');

        //   // --- Clear cart ---
        //   Cart.clear();
        // });

        el("#placeOrder").addEventListener("click", async () => {
          if (Object.keys(Cart.items).length === 0) {
            toast("Add items first");
            return;
          }
          if (!validateCustomer()) {
            toast("Please fix errors");
            return;
          }

          try {
            // --- Collect customer details ---
            const name = el("#custName").value.trim();
            const phone = el("#custPhone").value.trim();
            const addr = el("#custAddress").value.trim();

            // Amount from Discount Total
            const amount = parseInt(
              el("#sumSale").textContent.replace(/[‚Çπ,]/g, ""),
              10
            );

            // Prepare items list
            const items = Object.entries(Cart.items).map(([id, qty]) => {
              const it = Catalog.list.find((x) => x.id == id);
              return { name: it?.name || "", qty, price: it?.sale || 0 };
            });

            // --- Download invoice ---
            await downloadOrderPdf();

            // --- Save to Firestore ---
            await saveOrderToFirebase(name, phone, addr, amount, items);

            // --- Show success ---
            showSuccess("‚úÖ Order placed successfully! Invoice downloaded.");

            // --- Clear cart ---
            Cart.clear();
          } catch (err) {
            console.error("‚ùå Error in Place Order:", err);
            toast("Something went wrong while placing order.");
          }
        });

        el("#clearCart").addEventListener("click", () => {
          Cart.clear();
          toast("Cart cleared");
        });
        if (el("#importCsv")) {
          el("#importCsv").addEventListener("click", () => {
            const txt = el("#csvInput").value;
            const items = parseCsv(txt);
            if (!items.length) return toast("Nothing to import");
            Catalog.list = [...Catalog.list, ...items];
            Catalog.save();
            renderFilters();
            renderGrid();
            toast("Imported");
          });
        }
        if (el("#exportCsv")) {
          el("#exportCsv").addEventListener("click", () => {
            download("abs_crackers_catalog.csv", toCsv(Catalog.list));
          });
        }

        // --- Init ---
        Catalog.load();
        Cart.load();
        renderFilters();
        renderGrid();
        renderCart();
        console.log("First item with image:1576", Catalog.list[0]);

        // expose for inline handlers
        window.addToCart = addToCart;
        window.Cart = Cart;
        window.chgQty = chgQty;
        window.scrollToCart = scrollToCart;

        // --- Extra helpers for CSV ---
        function parseCsv(text) {
          const lines = text.trim().split(/\r?\n/).filter(Boolean);
          if (!lines.length) return [];
          const out = [];
          const hasHeader = /name\s*,\s*category/i.test(lines[0]);
          const rows = hasHeader ? lines.slice(1) : lines;
          for (const ln of rows) {
            const cells = ln.split(",");
            if (cells.length < 5) continue;
            const [name, category, unit, mrp, sale] = cells.map((c) =>
              c.trim()
            );
            out.push({
              id: Date.now() + Math.random(),
              name,
              category,
              unit,
              mrp: +mrp,
              sale: +sale,
            });
          }
          return out;
        }
        function toCsv(items) {
          const header = "name,category,unit,mrp,sale";
          const rows = items.map((it) =>
            [it.name, it.category, it.unit, it.mrp, it.sale].join(",")
          );
          return [header, ...rows].join("\n");
        }
        function download(filename, content) {
          const blob = new Blob([content], { type: "text/plain" });
          const a = document.createElement("a");
          a.href = URL.createObjectURL(blob);
          a.download = filename;
          a.click();
          URL.revokeObjectURL(a.href);
        }
      });
    </script>
  </body>
</html>
